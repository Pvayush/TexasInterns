{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/pvayu/OneDrive/Documents/Code/TexasInterns/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\pvayu\\\\OneDrive\\\\Documents\\\\Code\\\\TexasInterns\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import customFetch,{checkForUnauthorizedResponse}from'../../utils/axios';import{clearAllJobsState}from'../allJobs/allJobsSlice';import{clearValues}from'../job/jobSlice';import{logoutUser}from'./userSlice';export var registerUserThunk=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url,user,thunkAPI){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return customFetch.post(url,user);case 3:resp=_context.sent;return _context.abrupt(\"return\",resp.data);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",thunkAPI.rejectWithValue(_context.t0.response.data.msg));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function registerUserThunk(_x,_x2,_x3){return _ref.apply(this,arguments);};}();export var loginUserThunk=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url,user,thunkAPI){var resp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log('URL:',url);console.log('User Payload:',user);_context2.prev=2;_context2.next=5;return customFetch.post(url,user);case 5:resp=_context2.sent;console.log('Response:',resp.data);return _context2.abrupt(\"return\",resp.data);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](2);console.error('Error:',_context2.t0.response.data.msg);return _context2.abrupt(\"return\",thunkAPI.rejectWithValue(_context2.t0.response.data.msg));case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[2,10]]);}));return function loginUserThunk(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}();export var updateUserThunk=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url,user,thunkAPI){var resp;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return customFetch.patch(url,user);case 3:resp=_context3.sent;return _context3.abrupt(\"return\",resp.data);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);return _context3.abrupt(\"return\",checkForUnauthorizedResponse(_context3.t0,thunkAPI));case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function updateUserThunk(_x7,_x8,_x9){return _ref3.apply(this,arguments);};}();export var clearStoreThunk=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(message,thunkAPI){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;thunkAPI.dispatch(logoutUser(message));thunkAPI.dispatch(clearAllJobsState());thunkAPI.dispatch(clearValues());return _context4.abrupt(\"return\",Promise.resolve());case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);return _context4.abrupt(\"return\",Promise.reject());case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function clearStoreThunk(_x10,_x11){return _ref4.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/Users/pvayu/OneDrive/Documents/Code/TexasInterns/frontend/src/features/user/userThunk.js"],"names":["customFetch","checkForUnauthorizedResponse","clearAllJobsState","clearValues","logoutUser","registerUserThunk","url","user","thunkAPI","post","resp","data","rejectWithValue","response","msg","loginUserThunk","console","log","error","updateUserThunk","patch","clearStoreThunk","message","dispatch","Promise","resolve","reject"],"mappings":"gSAAA,MAAOA,CAAAA,WAAP,EAAsBC,4BAAtB,KAA0D,mBAA1D,CACA,OAASC,iBAAT,KAAkC,yBAAlC,CACA,OAASC,WAAT,KAA4B,iBAA5B,CACA,OAASC,UAAT,KAA2B,aAA3B,CACA,MAAO,IAAMC,CAAAA,iBAAiB,0FAAG,iBAAOC,GAAP,CAAYC,IAAZ,CAAkBC,QAAlB,iKAEVR,CAAAA,WAAW,CAACS,IAAZ,CAAiBH,GAAjB,CAAsBC,IAAtB,CAFU,QAEvBG,IAFuB,+CAGtBA,IAAI,CAACC,IAHiB,0FAKtBH,QAAQ,CAACI,eAAT,CAAyB,YAAMC,QAAN,CAAeF,IAAf,CAAoBG,GAA7C,CALsB,sEAAH,kBAAjBT,CAAAA,iBAAiB,oDAAvB,CASP,MAAO,IAAMU,CAAAA,cAAc,2FAAG,kBAAOT,GAAP,CAAYC,IAAZ,CAAkBC,QAAlB,+HAC5BQ,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBX,GAApB,EACAU,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BV,IAA7B,EAF4B,wCAIPP,CAAAA,WAAW,CAACS,IAAZ,CAAiBH,GAAjB,CAAsBC,IAAtB,CAJO,QAIpBG,IAJoB,gBAK1BM,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBP,IAAI,CAACC,IAA9B,EAL0B,iCAMnBD,IAAI,CAACC,IANc,+DAQ1BK,OAAO,CAACE,KAAR,CAAc,QAAd,CAAwB,aAAML,QAAN,CAAeF,IAAf,CAAoBG,GAA5C,EAR0B,iCASnBN,QAAQ,CAACI,eAAT,CAAyB,aAAMC,QAAN,CAAeF,IAAf,CAAoBG,GAA7C,CATmB,yEAAH,kBAAdC,CAAAA,cAAc,sDAApB,CAaP,MAAO,IAAMI,CAAAA,eAAe,2FAAG,kBAAOb,GAAP,CAAYC,IAAZ,CAAkBC,QAAlB,uKAERR,CAAAA,WAAW,CAACoB,KAAZ,CAAkBd,GAAlB,CAAuBC,IAAvB,CAFQ,QAErBG,IAFqB,iDAGpBA,IAAI,CAACC,IAHe,8FAKpBV,4BAA4B,cAAQO,QAAR,CALR,wEAAH,kBAAfW,CAAAA,eAAe,sDAArB,CASP,MAAO,IAAME,CAAAA,eAAe,2FAAG,kBAAOC,OAAP,CAAgBd,QAAhB,uIAE3BA,QAAQ,CAACe,QAAT,CAAkBnB,UAAU,CAACkB,OAAD,CAA5B,EACAd,QAAQ,CAACe,QAAT,CAAkBrB,iBAAiB,EAAnC,EACAM,QAAQ,CAACe,QAAT,CAAkBpB,WAAW,EAA7B,EAJ2B,iCAKpBqB,OAAO,CAACC,OAAR,EALoB,8FAOpBD,OAAO,CAACE,MAAR,EAPoB,wEAAH,kBAAfL,CAAAA,eAAe,oDAArB","sourcesContent":["import customFetch, { checkForUnauthorizedResponse } from '../../utils/axios';\nimport { clearAllJobsState } from '../allJobs/allJobsSlice';\nimport { clearValues } from '../job/jobSlice';\nimport { logoutUser } from './userSlice';\nexport const registerUserThunk = async (url, user, thunkAPI) => {\n  try {\n    const resp = await customFetch.post(url, user);\n    return resp.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data.msg);\n  }\n};\n\nexport const loginUserThunk = async (url, user, thunkAPI) => {\n  console.log('URL:', url); \n  console.log('User Payload:', user);  \n  try {\n    const resp = await customFetch.post(url, user);\n    console.log('Response:', resp.data);  \n    return resp.data;\n  } catch (error) {\n    console.error('Error:', error.response.data.msg);  \n    return thunkAPI.rejectWithValue(error.response.data.msg);\n  }\n};\n\nexport const updateUserThunk = async (url, user, thunkAPI) => {\n  try {\n    const resp = await customFetch.patch(url, user);\n    return resp.data;\n  } catch (error) {\n    return checkForUnauthorizedResponse(error, thunkAPI);\n  }\n};\n\nexport const clearStoreThunk = async (message, thunkAPI) => {\n  try {\n    thunkAPI.dispatch(logoutUser(message));\n    thunkAPI.dispatch(clearAllJobsState());\n    thunkAPI.dispatch(clearValues());\n    return Promise.resolve();\n  } catch (error) {\n    return Promise.reject();\n  }\n};\n"]},"metadata":{},"sourceType":"module"}