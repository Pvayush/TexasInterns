{"ast":null,"code":"import _defineProperty from\"C:/Users/pvayu/OneDrive/Documents/Code/TexasInterns/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"C:/Users/pvayu/OneDrive/Documents/Code/TexasInterns/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import _regeneratorRuntime from\"C:\\\\Users\\\\pvayu\\\\OneDrive\\\\Documents\\\\Code\\\\TexasInterns\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import{toast}from'react-toastify';import{addUserToLocalStorage,getUserFromLocalStorage,removeUserFromLocalStorage}from'../../utils/localStorage';import{loginUserThunk,registerUserThunk,updateUserThunk,clearStoreThunk}from'./userThunk';var initialState={isLoading:false,isSidebarOpen:false,user:getUserFromLocalStorage()};export var registerUser=createAsyncThunk('user/registerUser',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(user,thunkAPI){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",registerUserThunk('/auth/register',user,thunkAPI));case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var loginUser=createAsyncThunk('user/loginUser',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(user,thunkAPI){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",loginUserThunk('http://localhost:5000/api/login',user,thunkAPI));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());export var updateUser=createAsyncThunk('user/updateUser',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(user,thunkAPI){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\",updateUserThunk('/auth/updateUser',user,thunkAPI));case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}());export var clearStore=createAsyncThunk('user/clearStore',clearStoreThunk);var userSlice=createSlice({name:'user',initialState:initialState,reducers:{toggleSidebar:function toggleSidebar(state){state.isSidebarOpen=!state.isSidebarOpen;},logoutUser:function logoutUser(state,_ref4){var payload=_ref4.payload;state.user=null;state.isSidebarOpen=false;removeUserFromLocalStorage();if(payload){toast.success(payload);}},setDemoUser:function setDemoUser(state){var demoUser={name:'Demo User',email:'demo@user.com'};// Simplified Demo User\nstate.user=demoUser;addUserToLocalStorage(demoUser);toast.success('Logged in as Demo User');}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,registerUser.pending,function(state){state.isLoading=true;}),_defineProperty(_extraReducers,registerUser.fulfilled,function(state,_ref5){var payload=_ref5.payload;var user=payload.user;state.isLoading=false;state.user=user;addUserToLocalStorage(user);toast.success(\"Hello There \".concat(user.name));}),_defineProperty(_extraReducers,registerUser.rejected,function(state,_ref6){var payload=_ref6.payload;state.isLoading=false;toast.error(payload);}),_defineProperty(_extraReducers,loginUser.pending,function(state){state.isLoading=true;}),_defineProperty(_extraReducers,loginUser.fulfilled,function(state,_ref7){var payload=_ref7.payload;var user=payload.user;state.isLoading=false;state.user=user;addUserToLocalStorage(user);toast.success(\"Welcome Back \".concat(user.name));}),_defineProperty(_extraReducers,loginUser.rejected,function(state,_ref8){var payload=_ref8.payload;state.isLoading=false;toast.error(payload);}),_defineProperty(_extraReducers,updateUser.pending,function(state){state.isLoading=true;}),_defineProperty(_extraReducers,updateUser.fulfilled,function(state,_ref9){var payload=_ref9.payload;var user=payload.user;state.isLoading=false;state.user=user;addUserToLocalStorage(user);toast.success('User Updated!');}),_defineProperty(_extraReducers,updateUser.rejected,function(state,_ref10){var payload=_ref10.payload;state.isLoading=false;toast.error(payload);}),_defineProperty(_extraReducers,clearStore.rejected,function(){toast.error('There was an error..');}),_extraReducers)});var _userSlice$actions=userSlice.actions,toggleSidebar=_userSlice$actions.toggleSidebar,logoutUser=_userSlice$actions.logoutUser,setDemoUser=_userSlice$actions.setDemoUser;export{toggleSidebar,logoutUser,setDemoUser};export default userSlice.reducer;","map":{"version":3,"sources":["C:/Users/pvayu/OneDrive/Documents/Code/TexasInterns/frontend/src/features/user/userSlice.js"],"names":["createSlice","createAsyncThunk","toast","addUserToLocalStorage","getUserFromLocalStorage","removeUserFromLocalStorage","loginUserThunk","registerUserThunk","updateUserThunk","clearStoreThunk","initialState","isLoading","isSidebarOpen","user","registerUser","thunkAPI","loginUser","updateUser","clearStore","userSlice","name","reducers","toggleSidebar","state","logoutUser","payload","success","setDemoUser","demoUser","email","extraReducers","pending","fulfilled","rejected","error","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { toast } from 'react-toastify';\nimport {\n  addUserToLocalStorage,\n  getUserFromLocalStorage,\n  removeUserFromLocalStorage,\n} from '../../utils/localStorage';\nimport {\n  loginUserThunk,\n  registerUserThunk,\n  updateUserThunk,\n  clearStoreThunk,\n} from './userThunk';\n\nconst initialState = {\n  isLoading: false,\n  isSidebarOpen: false,\n  user: getUserFromLocalStorage(),\n};\n\nexport const registerUser = createAsyncThunk(\n  'user/registerUser',\n  async (user, thunkAPI) => {\n    return registerUserThunk('/auth/register', user, thunkAPI);\n  }\n);\n\nexport const loginUser = createAsyncThunk(\n  'user/loginUser',\n  async (user, thunkAPI) => {\n    return loginUserThunk('http://localhost:5000/api/login', user, thunkAPI);\n  }\n);\n\nexport const updateUser = createAsyncThunk(\n  'user/updateUser',\n  async (user, thunkAPI) => {\n    return updateUserThunk('/auth/updateUser', user, thunkAPI);\n  }\n);\n\nexport const clearStore = createAsyncThunk('user/clearStore', clearStoreThunk);\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    toggleSidebar: (state) => {\n      state.isSidebarOpen = !state.isSidebarOpen;\n    },\n    logoutUser: (state, { payload }) => {\n      state.user = null;\n      state.isSidebarOpen = false;\n      removeUserFromLocalStorage();\n      if (payload) {\n        toast.success(payload);\n      }\n    },\n    setDemoUser: (state) => {\n      const demoUser = { name: 'Demo User', email: 'demo@user.com' };  // Simplified Demo User\n      state.user = demoUser;\n      addUserToLocalStorage(demoUser);\n      toast.success('Logged in as Demo User');\n    },\n  },\n  extraReducers: {\n    [registerUser.pending]: (state) => {\n      state.isLoading = true;\n    },\n    [registerUser.fulfilled]: (state, { payload }) => {\n      const { user } = payload;\n      state.isLoading = false;\n      state.user = user;\n      addUserToLocalStorage(user);\n      toast.success(`Hello There ${user.name}`);\n    },\n    [registerUser.rejected]: (state, { payload }) => {\n      state.isLoading = false;\n      toast.error(payload);\n    },\n    [loginUser.pending]: (state) => {\n      state.isLoading = true;\n    },\n    [loginUser.fulfilled]: (state, { payload }) => {\n      const { user } = payload;\n      state.isLoading = false;\n      state.user = user;\n      addUserToLocalStorage(user);\n      toast.success(`Welcome Back ${user.name}`);\n    },\n    [loginUser.rejected]: (state, { payload }) => {\n      state.isLoading = false;\n      toast.error(payload);\n    },\n    [updateUser.pending]: (state) => {\n      state.isLoading = true;\n    },\n    [updateUser.fulfilled]: (state, { payload }) => {\n      const { user } = payload;\n      state.isLoading = false;\n      state.user = user;\n      addUserToLocalStorage(user);\n      toast.success('User Updated!');\n    },\n    [updateUser.rejected]: (state, { payload }) => {\n      state.isLoading = false;\n      toast.error(payload);\n    },\n    [clearStore.rejected]: () => {\n      toast.error('There was an error..');\n    },\n  },\n});\n\nexport const { toggleSidebar, logoutUser, setDemoUser } = userSlice.actions;\nexport default userSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}