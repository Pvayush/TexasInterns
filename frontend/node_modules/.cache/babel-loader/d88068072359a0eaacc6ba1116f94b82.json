{"ast":null,"code":"import _defineProperty from\"C:/Users/pvayu/OneDrive/Documents/Code/TexasInterns/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/pvayu/OneDrive/Documents/Code/TexasInterns/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/pvayu/OneDrive/Documents/Code/TexasInterns/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Logo,FormRow}from'../components';import Wrapper from'../assets/wrappers/RegisterPage';import{toast}from'react-toastify';import{useDispatch,useSelector}from'react-redux';import{loginUser,registerUser}from'../features/user/userSlice';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={name:'',email:'',password:'',isMember:true};function Register(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useSelector=useSelector(function(store){return store.user;}),user=_useSelector.user,isLoading=_useSelector.isLoading;var dispatch=useDispatch();var navigate=useNavigate();var handleChange=function handleChange(e){var name=e.target.name;var value=e.target.value;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};var onSubmit=function onSubmit(e){e.preventDefault();var name=values.name,email=values.email,password=values.password,isMember=values.isMember;if(!email||!password||!isMember&&!name){toast.error('Please fill out all fields');return;}if(isMember){dispatch(loginUser({email:email,password:password}));return;}dispatch(registerUser({name:name,email:email,password:password}));};var toggleMember=function toggleMember(){setValues(_objectSpread(_objectSpread({},values),{},{isMember:!values.isMember}));};// Register.js\nvar handleDemoUser=function handleDemoUser(){var demoUser={name:'Demo User',email:'demoUser@test.com',password:'demopassword'};// Save demo user to localStorage\nlocalStorage.setItem('user',JSON.stringify(demoUser));// Simulate setting user in Redux state and redirecting\ndispatch(loginUser(demoUser));// Directly set demo user in Redux state\ntoast.success('Logged in as Demo User');setTimeout(function(){navigate('/dashboard');// Redirect to the dashboard after login\n},1000);};useEffect(function(){if(user){setTimeout(function(){navigate('/dashboard');// Redirect to the dashboard after login\n},2000);}},[user,navigate]);return/*#__PURE__*/_jsx(Wrapper,{className:\"full-page\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:values.isMember?'Texas Interns Register':'Texas Interns Login'}),!values.isMember&&/*#__PURE__*/_jsx(FormRow,{type:\"text\",name:\"name\",value:values.name,handleChange:handleChange}),/*#__PURE__*/_jsx(FormRow,{type:\"email\",name:\"email\",value:values.email,handleChange:handleChange}),/*#__PURE__*/_jsx(FormRow,{type:\"password\",name:\"password\",value:values.password,handleChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-block\",disabled:isLoading,children:isLoading?'loading...':'submit'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-block btn-hipster\",disabled:isLoading,onClick:handleDemoUser// Updated for demo user\n,children:isLoading?'loading...':'demo app'}),/*#__PURE__*/_jsxs(\"p\",{children:[values.isMember?'Not a member yet?':'Already a member?',/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleMember,className:\"member-btn\",children:values.isMember?' Register':' Login'})]})]})});}export default Register;","map":{"version":3,"sources":["C:/Users/pvayu/OneDrive/Documents/Code/TexasInterns/frontend/src/pages/Register.js"],"names":["useState","useEffect","Logo","FormRow","Wrapper","toast","useDispatch","useSelector","loginUser","registerUser","useNavigate","initialState","name","email","password","isMember","Register","values","setValues","store","user","isLoading","dispatch","navigate","handleChange","e","target","value","onSubmit","preventDefault","error","toggleMember","handleDemoUser","demoUser","localStorage","setItem","JSON","stringify","success","setTimeout"],"mappings":"4ZAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,IAAT,CAAeC,OAAf,KAA8B,eAA9B,CACA,MAAOC,CAAAA,OAAP,KAAoB,iCAApB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,CAAoBC,YAApB,KAAwC,4BAAxC,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,IAAI,CAAE,EADa,CAEnBC,KAAK,CAAE,EAFY,CAGnBC,QAAQ,CAAE,EAHS,CAInBC,QAAQ,CAAE,IAJS,CAArB,CAOA,QAASC,CAAAA,QAAT,EAAoB,CAClB,cAA4BhB,QAAQ,CAACW,YAAD,CAApC,wCAAOM,MAAP,eAAeC,SAAf,eACA,iBAA4BX,WAAW,CAAC,SAACY,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAjB,EAAD,CAAvC,CAAQA,IAAR,cAAQA,IAAR,CAAcC,SAAd,cAAcA,SAAd,CACA,GAAMC,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CACA,GAAMiB,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CAEA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1B,GAAMb,CAAAA,IAAI,CAAGa,CAAC,CAACC,MAAF,CAASd,IAAtB,CACA,GAAMe,CAAAA,KAAK,CAAGF,CAAC,CAACC,MAAF,CAASC,KAAvB,CAEAT,SAAS,gCAAMD,MAAN,wBAAeL,IAAf,CAAsBe,KAAtB,GAAT,CACD,CALD,CAOA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACH,CAAD,CAAO,CACtBA,CAAC,CAACI,cAAF,GACA,GAAQjB,CAAAA,IAAR,CAA4CK,MAA5C,CAAQL,IAAR,CAAcC,KAAd,CAA4CI,MAA5C,CAAcJ,KAAd,CAAqBC,QAArB,CAA4CG,MAA5C,CAAqBH,QAArB,CAA+BC,QAA/B,CAA4CE,MAA5C,CAA+BF,QAA/B,CACA,GAAI,CAACF,KAAD,EAAU,CAACC,QAAX,EAAwB,CAACC,QAAD,EAAa,CAACH,IAA1C,CAAiD,CAC/CP,KAAK,CAACyB,KAAN,CAAY,4BAAZ,EACA,OACD,CACD,GAAIf,QAAJ,CAAc,CACZO,QAAQ,CAACd,SAAS,CAAC,CAAEK,KAAK,CAAEA,KAAT,CAAgBC,QAAQ,CAAEA,QAA1B,CAAD,CAAV,CAAR,CACA,OACD,CACDQ,QAAQ,CAACb,YAAY,CAAC,CAAEG,IAAI,CAAJA,IAAF,CAAQC,KAAK,CAALA,KAAR,CAAeC,QAAQ,CAARA,QAAf,CAAD,CAAb,CAAR,CACD,CAZD,CAcA,GAAMiB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBb,SAAS,gCAAMD,MAAN,MAAcF,QAAQ,CAAE,CAACE,MAAM,CAACF,QAAhC,GAAT,CACD,CAFD,CAIF;AACA,GAAMiB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAMC,CAAAA,QAAQ,CAAG,CACfrB,IAAI,CAAE,WADS,CAEfC,KAAK,CAAE,mBAFQ,CAGfC,QAAQ,CAAE,cAHK,CAAjB,CAMA;AACAoB,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeJ,QAAf,CAA7B,EAEA;AACAX,QAAQ,CAACd,SAAS,CAACyB,QAAD,CAAV,CAAR,CAAgC;AAChC5B,KAAK,CAACiC,OAAN,CAAc,wBAAd,EACAC,UAAU,CAAC,UAAM,CACfhB,QAAQ,CAAC,YAAD,CAAR,CAAyB;AAC1B,CAFS,CAEP,IAFO,CAAV,CAGD,CAhBD,CAmBEtB,SAAS,CAAC,UAAM,CACd,GAAImB,IAAJ,CAAU,CACRmB,UAAU,CAAC,UAAM,CACfhB,QAAQ,CAAC,YAAD,CAAR,CAAyB;AAC1B,CAFS,CAEP,IAFO,CAAV,CAGD,CACF,CANQ,CAMN,CAACH,IAAD,CAAOG,QAAP,CANM,CAAT,CAQA,mBACE,KAAC,OAAD,EAAS,SAAS,CAAC,WAAnB,uBACE,cAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEK,QAAjC,wBACE,oBAAKX,MAAM,CAACF,QAAP,CAAkB,wBAAlB,CAA6C,qBAAlD,EADF,CAEG,CAACE,MAAM,CAACF,QAAR,eACC,KAAC,OAAD,EACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEE,MAAM,CAACL,IAHhB,CAIE,YAAY,CAAEY,YAJhB,EAHJ,cAUE,KAAC,OAAD,EACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAEP,MAAM,CAACJ,KAHhB,CAIE,YAAY,CAAEW,YAJhB,EAVF,cAgBE,KAAC,OAAD,EACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAEP,MAAM,CAACH,QAHhB,CAIE,YAAY,CAAEU,YAJhB,EAhBF,cAsBE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,eAAhC,CAAgD,QAAQ,CAAEH,SAA1D,UACGA,SAAS,CAAG,YAAH,CAAkB,QAD9B,EAtBF,cAyBE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,2BAFZ,CAGE,QAAQ,CAAEA,SAHZ,CAIE,OAAO,CAAEW,cAAiB;AAJ5B,UAMGX,SAAS,CAAG,YAAH,CAAkB,UAN9B,EAzBF,cAiCE,qBACGJ,MAAM,CAACF,QAAP,CAAkB,mBAAlB,CAAwC,mBAD3C,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEgB,YAA/B,CAA6C,SAAS,CAAC,YAAvD,UACGd,MAAM,CAACF,QAAP,CAAkB,WAAlB,CAAgC,QADnC,EAFF,GAjCF,GADF,EADF,CA4CD,CAED,cAAeC,CAAAA,QAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Logo, FormRow } from '../components';\nimport Wrapper from '../assets/wrappers/RegisterPage';\nimport { toast } from 'react-toastify';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loginUser, registerUser } from '../features/user/userSlice';\nimport { useNavigate } from 'react-router-dom';\n\nconst initialState = {\n  name: '',\n  email: '',\n  password: '',\n  isMember: true,\n};\n\nfunction Register() {\n  const [values, setValues] = useState(initialState);\n  const { user, isLoading } = useSelector((store) => store.user);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    setValues({ ...values, [name]: value });\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const { name, email, password, isMember } = values;\n    if (!email || !password || (!isMember && !name)) {\n      toast.error('Please fill out all fields');\n      return;\n    }\n    if (isMember) {\n      dispatch(loginUser({ email: email, password: password }));\n      return;\n    }\n    dispatch(registerUser({ name, email, password }));\n  };\n\n  const toggleMember = () => {\n    setValues({ ...values, isMember: !values.isMember });\n  };\n\n// Register.js\nconst handleDemoUser = () => {\n  const demoUser = {\n    name: 'Demo User',\n    email: 'demoUser@test.com',\n    password: 'demopassword',\n  };\n\n  // Save demo user to localStorage\n  localStorage.setItem('user', JSON.stringify(demoUser));\n\n  // Simulate setting user in Redux state and redirecting\n  dispatch(loginUser(demoUser));  // Directly set demo user in Redux state\n  toast.success('Logged in as Demo User');\n  setTimeout(() => {\n    navigate('/dashboard');  // Redirect to the dashboard after login\n  }, 1000);\n};\n\n\n  useEffect(() => {\n    if (user) {\n      setTimeout(() => {\n        navigate('/dashboard');  // Redirect to the dashboard after login\n      }, 2000);\n    }\n  }, [user, navigate]);\n\n  return (\n    <Wrapper className='full-page'>\n      <form className='form' onSubmit={onSubmit}>\n        <h3>{values.isMember ? 'Texas Interns Register' : 'Texas Interns Login'}</h3>\n        {!values.isMember && (\n          <FormRow\n            type='text'\n            name='name'\n            value={values.name}\n            handleChange={handleChange}\n          />\n        )}\n        <FormRow\n          type='email'\n          name='email'\n          value={values.email}\n          handleChange={handleChange}\n        />\n        <FormRow\n          type='password'\n          name='password'\n          value={values.password}\n          handleChange={handleChange}\n        />\n        <button type='submit' className='btn btn-block' disabled={isLoading}>\n          {isLoading ? 'loading...' : 'submit'}\n        </button>\n        <button\n          type='button'\n          className='btn btn-block btn-hipster'\n          disabled={isLoading}\n          onClick={handleDemoUser}  // Updated for demo user\n        >\n          {isLoading ? 'loading...' : 'demo app'}\n        </button>\n        <p>\n          {values.isMember ? 'Not a member yet?' : 'Already a member?'}\n          <button type='button' onClick={toggleMember} className='member-btn'>\n            {values.isMember ? ' Register' : ' Login'}\n          </button>\n        </p>\n      </form>\n    </Wrapper>\n  );\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}