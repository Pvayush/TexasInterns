{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/pvayu/OneDrive/Documents/Code/TexasInterns/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\pvayu\\\\OneDrive\\\\Documents\\\\Code\\\\TexasInterns\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{showLoading,hideLoading,getAllJobs}from'../allJobs/allJobsSlice';import customFetch,{checkForUnauthorizedResponse}from'../../utils/axios';import{clearValues}from'./jobSlice';export var createJobThunk=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(job,thunkAPI){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return customFetch.post('/api/jobs',job);case 3:resp=_context.sent;thunkAPI.dispatch(getAllJobs());// Fetch all jobs after adding a new one\nreturn _context.abrupt(\"return\",resp.data.job);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",checkForUnauthorizedResponse(_context.t0,thunkAPI));case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function createJobThunk(_x,_x2){return _ref.apply(this,arguments);};}();export var deleteJobThunk=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(jobId,thunkAPI){var resp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:thunkAPI.dispatch(showLoading());_context2.prev=1;_context2.next=4;return customFetch.delete(\"/jobs/\".concat(jobId));case 4:resp=_context2.sent;thunkAPI.dispatch(getAllJobs());return _context2.abrupt(\"return\",resp.data.msg);case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);thunkAPI.dispatch(hideLoading());return _context2.abrupt(\"return\",checkForUnauthorizedResponse(_context2.t0,thunkAPI));case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function deleteJobThunk(_x3,_x4){return _ref2.apply(this,arguments);};}();export var editJobThunk=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref3,thunkAPI){var jobId,job,resp;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:jobId=_ref3.jobId,job=_ref3.job;_context3.prev=1;_context3.next=4;return customFetch.patch(\"/jobs/\".concat(jobId),job);case 4:resp=_context3.sent;thunkAPI.dispatch(clearValues());return _context3.abrupt(\"return\",resp.data);case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](1);return _context3.abrupt(\"return\",checkForUnauthorizedResponse(_context3.t0,thunkAPI));case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[1,9]]);}));return function editJobThunk(_x5,_x6){return _ref4.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/Users/pvayu/OneDrive/Documents/Code/TexasInterns/frontend/src/features/job/jobThunk.js"],"names":["showLoading","hideLoading","getAllJobs","customFetch","checkForUnauthorizedResponse","clearValues","createJobThunk","job","thunkAPI","post","resp","dispatch","data","deleteJobThunk","jobId","delete","msg","editJobThunk","patch"],"mappings":"gSAAA,OAASA,WAAT,CAAsBC,WAAtB,CAAmCC,UAAnC,KAAqD,yBAArD,CACA,MAAOC,CAAAA,WAAP,EAAsBC,4BAAtB,KAA0D,mBAA1D,CACA,OAASC,WAAT,KAA4B,YAA5B,CAGA,MAAO,IAAMC,CAAAA,cAAc,0FAAG,iBAAOC,GAAP,CAAYC,QAAZ,iKAEPL,CAAAA,WAAW,CAACM,IAAZ,CAAiB,WAAjB,CAA8BF,GAA9B,CAFO,QAEpBG,IAFoB,eAG1BF,QAAQ,CAACG,QAAT,CAAkBT,UAAU,EAA5B,EAAiC;AAHP,gCAInBQ,IAAI,CAACE,IAAL,CAAUL,GAJS,0FAMnBH,4BAA4B,aAAQI,QAAR,CANT,sEAAH,kBAAdF,CAAAA,cAAc,gDAApB,CAUP,MAAO,IAAMO,CAAAA,cAAc,2FAAG,kBAAOC,KAAP,CAAcN,QAAd,+HAC5BA,QAAQ,CAACG,QAAT,CAAkBX,WAAW,EAA7B,EAD4B,wCAGPG,CAAAA,WAAW,CAACY,MAAZ,iBAA4BD,KAA5B,EAHO,QAGpBJ,IAHoB,gBAI1BF,QAAQ,CAACG,QAAT,CAAkBT,UAAU,EAA5B,EAJ0B,iCAKnBQ,IAAI,CAACE,IAAL,CAAUI,GALS,6DAO1BR,QAAQ,CAACG,QAAT,CAAkBV,WAAW,EAA7B,EAP0B,iCAQnBG,4BAA4B,cAAQI,QAAR,CART,wEAAH,kBAAdK,CAAAA,cAAc,kDAApB,CAWP,MAAO,IAAMI,CAAAA,YAAY,2FAAG,wBAAuBT,QAAvB,yIAASM,KAAT,OAASA,KAAT,CAAgBP,GAAhB,OAAgBA,GAAhB,yCAELJ,CAAAA,WAAW,CAACe,KAAZ,iBAA2BJ,KAA3B,EAAoCP,GAApC,CAFK,QAElBG,IAFkB,gBAGxBF,QAAQ,CAACG,QAAT,CAAkBN,WAAW,EAA7B,EAHwB,iCAIjBK,IAAI,CAACE,IAJY,8FAMjBR,4BAA4B,cAAQI,QAAR,CANX,wEAAH,kBAAZS,CAAAA,YAAY,kDAAlB","sourcesContent":["import { showLoading, hideLoading, getAllJobs } from '../allJobs/allJobsSlice';\nimport customFetch, { checkForUnauthorizedResponse } from '../../utils/axios';\nimport { clearValues } from './jobSlice';\n\n\nexport const createJobThunk = async (job, thunkAPI) => {\n  try {\n    const resp = await customFetch.post('/api/jobs', job);\n    thunkAPI.dispatch(getAllJobs()); // Fetch all jobs after adding a new one\n    return resp.data.job;\n  } catch (error) {\n    return checkForUnauthorizedResponse(error, thunkAPI);\n  }\n};\n\nexport const deleteJobThunk = async (jobId, thunkAPI) => {\n  thunkAPI.dispatch(showLoading());\n  try {\n    const resp = await customFetch.delete(`/jobs/${jobId}`);\n    thunkAPI.dispatch(getAllJobs());\n    return resp.data.msg;\n  } catch (error) {\n    thunkAPI.dispatch(hideLoading());\n    return checkForUnauthorizedResponse(error, thunkAPI);\n  }\n};\nexport const editJobThunk = async ({ jobId, job }, thunkAPI) => {\n  try {\n    const resp = await customFetch.patch(`/jobs/${jobId}`, job);\n    thunkAPI.dispatch(clearValues());\n    return resp.data;\n  } catch (error) {\n    return checkForUnauthorizedResponse(error, thunkAPI);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}