version: 1
applications:
  - appRoot: backend
    backend:
      phases:
        preBuild:
          commands:
            - npm install  # Install backend dependencies
        build:
          commands:
            - npm run build  # Run any build steps if needed, or remove this line if not needed
      artifacts:
        baseDirectory: .
        files:
          - '**/*'
      cache:
        paths:
          - node_modules/**/*
          
  - appRoot: frontend
    frontend:
      phases:
        preBuild:
          commands:
            - npm install  # Install frontend dependencies
        build:
          commands:
            - npm run build  # Build the frontend for production
      artifacts:
        baseDirectory: build
        files:
          - '**/*'
      cache:
        paths:
          - node_modules/**/*
    start:
      commands:
        - npm start  # This command starts your frontend if necessary
